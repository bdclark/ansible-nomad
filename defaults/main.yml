---
nomad_version: 0.7.0

nomad_zip: nomad_{{ nomad_version }}_linux_amd64.zip
nomad_zip_url: https://releases.hashicorp.com/nomad/{{ nomad_version }}/{{ nomad_zip }}
nomad_download_dir: /tmp

nomad_checksum_file: "nomad_{{ nomad_version }}_SHA256SUMS"
nomad_checksum_url: "https://releases.hashicorp.com/nomad/{{ nomad_version }}/{{ nomad_checksum_file }}"

nomad_verify_checksum_signature: true
nomad_signature_file: "{{ nomad_checksum_file }}.sig"
nomad_signature_url: "https://releases.hashicorp.com/nomad/{{ nomad_version }}/{{ nomad_signature_file }}"

nomad_install_only: false

nomad_bin_dir: /usr/local/bin     # dir to extract nomad binary
nomad_conf_dir: /etc/nomad        # dir for nomad config files
nomad_data_dir: /var/lib/nomad    # nomad data dir
nomad_log_dir: /var/log/nomad     # log dir - only used with sysvinit

nomad_conf_dir_owner: root        # owner of nomad config dir
nomad_conf_dir_mode: 0750         # mode of nomad config dir

# init method; can be upstart, systemd, sysvinit, or null to auto-detect
nomad_init_method: ~
# if true will create nomad user/group
nomad_user_managed: true
nomad_user: nomad
nomad_group: nomad

# whether service is enabled/started or disabled/stopped
nomad_service_enabled: true
# whether to restart service on config file or service changes
nomad_service_restart_on_update: true

# whether to enable nomad server and include server config
nomad_server_enabled: false
# whether to enable nomad client and include client config
nomad_client_enabled: "{{ not nomad_server_enabled }}"

# general config settings (except for server and client stanzas)
nomad_general_config: {}
# nomad server config - only inluded if nomad_server_enabled is true
nomad_server_config: {}
# nomad client config
nomad_client_config: {}

# templates used in this role
nomad_upstart_template: nomad.conf.j2
nomad_systemd_template: nomad.service.j2
nomad_sysvinit_template: nomad.sysvinit.j2
nomad_config_template: nomad.json.j2
